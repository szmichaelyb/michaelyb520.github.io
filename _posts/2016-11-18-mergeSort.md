---
title: ç®—æ³•-å½’å¹¶æ’åº
layout: post
author: è°¢æ¶›
date: '2016-11-18 10:24:24 +0800'
categories: Blog
---
>é˜…è¯»é‡çœŸæ˜¯å°‘ï¼Œåˆä¸æƒ³æŠ•ç¨¿ï¼Œæ€ä¹ˆåŠ

## å‰è¨€
å½’å¹¶æ’åºæ€è·¯ç®€å•ï¼Œé€Ÿåº¦ä»…æ¬¡äºå¿«é€Ÿæ’åºï¼Œä¸ºç¨³å®šæ’åºç®—æ³•ï¼Œä¸€èˆ¬ç”¨äºå¯¹æ€»ä½“æ— åºï¼Œä½†æ˜¯å„å­é¡¹ç›¸å¯¹æœ‰åºçš„æ•°åˆ—ã€‚

## æ ¸å¿ƒæ€æƒ³
æ¯”è¾ƒa[i]å’Œa[j]çš„å¤§å°ï¼Œè‹¥a[i]â‰¤a[j]ï¼Œåˆ™å°†ç¬¬ä¸€ä¸ªæœ‰åºè¡¨ä¸­çš„å…ƒç´ a[i]å¤åˆ¶åˆ°r[k]ä¸­ï¼Œå¹¶ä»¤iå’Œkåˆ†åˆ«åŠ ä¸Š1ï¼›å¦åˆ™å°†ç¬¬äºŒä¸ªæœ‰åºè¡¨ä¸­çš„å…ƒç´ a[j]å¤åˆ¶åˆ°r[k]ä¸­ï¼Œå¹¶ä»¤jå’Œkåˆ†åˆ«åŠ ä¸Š1ï¼Œå¦‚æ­¤å¾ªç¯ä¸‹å»ï¼Œç›´åˆ°å…¶ä¸­ä¸€ä¸ªæœ‰åºè¡¨å–å®Œï¼Œç„¶åå†å°†å¦ä¸€ä¸ªæœ‰åºè¡¨ä¸­å‰©ä½™çš„å…ƒç´ å¤åˆ¶åˆ°rä¸­ä»ä¸‹æ ‡kåˆ°ä¸‹æ ‡tçš„å•å…ƒã€‚å½’å¹¶æ’åºçš„ç®—æ³•æˆ‘ä»¬é€šå¸¸ç”¨é€’å½’å®ç°ï¼Œå…ˆæŠŠå¾…æ’åºåŒºé—´[s,t]ä»¥ä¸­ç‚¹äºŒåˆ†ï¼Œæ¥ç€æŠŠå·¦è¾¹å­åŒºé—´æ’åºï¼Œå†æŠŠå³è¾¹å­åŒºé—´æ’åºï¼Œæœ€åæŠŠå·¦åŒºé—´å’Œå³åŒºé—´ç”¨ä¸€æ¬¡å½’å¹¶æ“ä½œåˆå¹¶æˆæœ‰åºçš„åŒºé—´[s,t]ã€‚
## ç¤ºä¾‹
#### åˆ†æ²»
1. é¦–å…ˆæˆ‘ä»¬æ‹¿åˆ°åŸå§‹æ•°ç»„``{100,5,3,11,33,6,8,7,1,3}``ï¼Œç„¶åå°†æ•°ç»„å¯¹åŠåˆ†ã€‚

2. ``{100,5,3,11,33},{6,8,7,1,3}``ï¼Œç»§ç»­åŠåˆ†ã€‚

3. ``{100,5,3},{11,33};{6,8,7,},{1,3}``ï¼Œå¤šäºä¸¤ä¸ªå€¼çš„é›†åˆï¼Œç»§ç»­åŠåˆ†ã€‚

4. ``{100,5},{3};{11,33};{6,8},{7};{1,3}``ï¼Œæ‹†åˆ†å®Œæˆåï¼Œæ¯ä¸ªé›†åˆå…ˆå†…éƒ¨æ’åºï¼Œå†æŒ‰æ‹†åˆ†çš„é¡ºåºåˆå¹¶ã€‚

#### å½’å¹¶
1. ``{100,5}->{5,100} ``å¯¹æ¯”1æ¬¡ï¼Œå¯¹æ¯”é¡ºåºï¼š``5:100``ï¼Œè°ƒæ•´åæ•°ç»„å˜ä¸º``{5,100,3,11,33,6,8,7,1,3}``ã€‚

2. ``{5,100},{3}->{3,5,100}``å¯¹æ¯”1æ¬¡ï¼Œå¯¹æ¯”é¡ºåºï¼š``5:3``ï¼Œè°ƒæ•´åæ•°ç»„å˜ä¸º``{3,5,100,11,33,6,8,7,1,3}``ã€‚

3. ``{11,33}æ— å˜åŒ–``å¯¹æ¯”1æ¬¡ï¼Œå¯¹æ¯”é¡ºåºï¼š``11:33``ï¼Œè°ƒæ•´åæ•°ç»„å˜ä¸º``{3,5,100,11,33,6,8,7,1,3}``ã€‚

4. ``{3,5,100},{11,33}->{3,5,11,33,100}``å¯¹æ¯”4æ¬¡ï¼Œå¯¹æ¯”é¡ºåºï¼š``3:11,5:11,100:11,100:33``ï¼Œè°ƒæ•´åæ•°ç»„å˜ä¸º``{3,5,11,33,100,6,8,7,1,3}``ã€‚

5. ``{6,8}æ— å˜åŒ–``å¯¹æ¯”1æ¬¡ï¼Œå¯¹æ¯”é¡ºåºï¼š``6:8``ï¼Œè°ƒæ•´åæ•°ç»„å˜ä¸º``{3,5,11,33,100,6,8,7,1,3}``ã€‚

6. ``{6,8},{7}->{6,7,8}``å¯¹æ¯”2æ¬¡ï¼Œå¯¹æ¯”é¡ºåºï¼š``6:8,8:7``ï¼Œè°ƒæ•´åæ•°ç»„å˜ä¸º``{3,5,11,33,100,6,7,8,1,3}``ã€‚

7. ``{1,3}æ— å˜åŒ–``å¯¹æ¯”1æ¬¡ï¼Œå¯¹æ¯”é¡ºåºï¼š``1:3``ï¼Œè°ƒæ•´åæ•°ç»„å˜ä¸º``{3,5,11,33,100,6,7,8,1,3}``ã€‚

8. ``{6,7,8},{1,3}->{1,3,6,7,8}``å¯¹æ¯”2æ¬¡ï¼Œå¯¹æ¯”é¡ºåºï¼š
``6:1,6:3``ï¼Œè°ƒæ•´åæ•°ç»„å˜ä¸º``{3,5,11,33,100,1,3,6,7,8}``ã€‚

9. ``{3,5,11,33,100},{1,3,6,7,8}->{1,3,3,5,6,7,8,11,33,100}``å¯¹æ¯”7æ¬¡ï¼Œå¯¹æ¯”é¡ºåºï¼š``1:3,3:3,5:3,5:6,11:6,11:7,11:8``,æ•´ä¸ªæ•°ç»„å®Œæˆæ’åºã€‚

## Cè¯­è¨€ä»£ç 
<pre><code>#pragma mark - å½’å¹¶æ’åº
void mergeList (int arr[], int first, int middle, int last ,int temp[]) {
    printf("å¾…æ’åºæ•°ç»„\n");

    for (int i = first; i <= last; i++) {
        printf("%d\t",arr[i]);
    }
    
    int leftStartIndex = first;
    int leftEndIndex = middle;
    
    int rightStartIndex = middle + 1;
    int rightEndIndex = last;
    
    int tempIndex = 0;

    // å¯»æ‰¾ä¸¤ä¸ªå­åºåˆ—ï¼Œé¡ºåºéå†ï¼Œå°†å€¼å°çš„å¤åˆ¶åˆ°ä¸´æ—¶æ•°ç»„ä¸­ï¼Œç›´åˆ°å…¶ä¸­ä¸€ä¸ªå­åºåˆ—éå†å®Œæ¯•
    while (leftStartIndex <= leftEndIndex && rightStartIndex <= rightEndIndex) {
        // å€¼å°çš„å°±å¤åˆ¶åˆ°ä¸´æ—¶æ•°ç»„ä¸­
        printf("\nleft:%d right:%d\n",arr[leftStartIndex],arr[rightStartIndex]);
        if (arr[leftStartIndex] <= arr[rightStartIndex]) {
            printf("tempåŠ å…¥left:%d\n",arr[leftStartIndex]);
            temp[tempIndex++] = arr[leftStartIndex++];
        } else {
            printf("tempåŠ å…¥right:%d\n",arr[rightStartIndex]);
            temp[tempIndex++] = arr[rightStartIndex++];
        }
    }
    
    // æœ‰å¯èƒ½å·¦å­åºåˆ—æ›´é•¿ï¼Œå› æ­¤å°†å‰©ä¸‹çš„éƒ¨åˆ†ç›´æ¥å¤åˆ¶åˆ°ä¸´æ—¶æ•°ç»„ä¸­
    while (leftStartIndex <= leftEndIndex) {
        temp[tempIndex++] = arr[leftStartIndex++];
    }
    
    // æœ‰å¯èƒ½å³å­åºåˆ—æ›´é•¿ï¼Œå› æ­¤å°†å‰©ä¸‹çš„éƒ¨åˆ†ç›´æ¥å¤åˆ¶åˆ°ä¸´æ—¶æ•°ç»„ä¸­
    while (rightStartIndex <= rightEndIndex) {
        temp[tempIndex++] = arr[rightStartIndex++];
    }
    
    int i = 0;
    while (first+i <= last) {
        arr[first+i] = temp[i];
        i++;
    }
    
    printf("è¿›è¡Œæ’åºæ•°ç»„\n");
    for (int i = first; i <= last; i++) {
        printf("%d\t",arr[i]);
    }
    printf("\næ›´æ–°æ•°ç»„\n");
    printfArr(arr, 10);
}

void mergeSort (int arr[], int first, int last, int temp[]) {
    if (first == 0 && last == 9) {
        printfArr(arr, 10);
    }
    if (last > first) {
        int middle = (first+last)/2;
        // å½’å¹¶å·¦æ–¹å­åˆ—
        mergeSort(arr, first, middle, temp);
        // å½’å¹¶å³æ–¹å­åˆ—
        mergeSort(arr, middle+1, last, temp);
        // åˆå¹¶
        mergeList(arr, first, middle, last, temp);
    }
}
</code></pre>

## æ—¶é—´å¤æ‚åº¦
æ—¶é—´å¤æ‚åº¦ä¸ºO(nlogn) è¿™æ˜¯è¯¥ç®—æ³•å¹³å‡çš„æ—¶é—´æ€§èƒ½ï¼Œç©ºé—´å¤æ‚åº¦ä¸º O(n)ï¼Œæ¯”è¾ƒæ“ä½œçš„æ¬¡æ•°ä»‹äº(nlogn) / 2å’Œnlogn - n + 1ã€‚

## ç»“è¯­
ä»æ–°å†™ä¸€éç®—æ³•ï¼Œç†è§£æœç„¶æ›´é€å½»äº†ï¼Œæœ¬æ–‡æ²¡æœ‰ä½¿ç”¨å›¾ç‰‡ï¼Œæ„Ÿè§‰ç”¨æ–‡å­—å°±å·²ç»è¶³å¤Ÿæè¿°äº†ğŸ˜…ã€‚

----
æœ€åç»™å‡ºæœ€è¿‘å‡ ç¯‡å…³äºæ’åºç®—æ³•çš„[æºä»£ç ](https://github.com/xietao3/BaseCalculationDemo)